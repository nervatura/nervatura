{"meta":{"reportkey":"ntr_tool_en","nervatype":"tool","repname":"Tool Sheet","description":"Tool Information Sheet","filetype":"pdf"},"report":{"title":"TOOL DATASHEET","left-margin":15,"top-margin":15,"right-margin":15},"header":[{"row":{"columns":[{"image":{"src":"logo"}},{"cell":{"value":"labels.lb_tool_datasheet","font-style":"bolditalic","font-size":26,"color":"#696969"}},{"cell":{"value":"head.0.serial","align":"right","font-size":18,"font-style":"bold"}}],"height":10}},{"hline":{"border-color":100}},{"vgap":{"height":2}}],"details":[{"vgap":{"height":2}},{"row":{"columns":[{"cell":{"name":"label","value":"labels.lb_serial_no","font-style":"bold","background-color":217}},{"cell":{"name":"serial","value":"head.0.serial","border":"1","border-color":100}},{"cell":{"name":"label","value":"labels.lb_description","font-style":"bold","background-color":217}},{"cell":{"name":"description","value":"head.0.description","border":"1","border-color":100}}],"hgap":2}},{"vgap":{"height":2}},{"row":{"columns":[{"cell":{"name":"label","value":"labels.lb_toolgroup","font-style":"bold","background-color":217}},{"cell":{"name":"toolgroup","value":"head.0.toolgroup","border":"1","border-color":100}},{"cell":{"name":"label","value":"labels.lb_inactive","font-style":"bold","background-color":217}},{"cell":{"name":"inactive","align":"center","value":"head.0.inactive","border":"1","border-color":100}},{"cell":{"name":"label","value":"labels.lb_product","font-style":"bold","background-color":217}},{"cell":{"name":"product","value":"head.0.product","border":"1","border-color":100}}],"hgap":2}},{"vgap":{"height":2}},{"row":{"columns":[{"cell":{"name":"label","value":"labels.lb_comment","font-style":"bold","background-color":217}},{"cell":{"name":"notes","multiline":"true","value":"head.0.notes","border":"1","border-color":100}}],"hgap":2}},{"vgap":{"height":2}},{"hline":{"border-color":100}},{"vgap":{"height":2}},{"row":{"columns":[{"cell":{"name":"label","value":"labels.lb_additional_data","font-style":"bold","background-color":217,"border":"1","border-color":100}}],"visible":"fieldvalue"}},{"datagrid":{"columns":[{"column":{"width":"6%","fieldname":"counter","align":"right","label":"labels.lb_no"}},{"column":{"width":"25%","fieldname":"fielddef","label":"labels.lb_description"}},{"column":{"width":"32%","fieldname":"value","label":"labels.lb_value"}},{"column":{"fieldname":"notes","label":"labels.lb_comment"}}],"name":"fieldvalue","databind":"fieldvalue","border":"1","border-color":100}},{"vgap":{"height":2}},{"row":{"columns":[{"cell":{"name":"label","value":"labels.lb_events","font-style":"bold","background-color":217,"border":"1","border-color":100}}],"visible":"event"}},{"datagrid":{"columns":[{"column":{"width":"6%","fieldname":"counter","align":"right","label":"labels.lb_no"}},{"column":{"width":"19%","fieldname":"calnumber","label":"labels.lb_event_no"}},{"column":{"width":"13%","fieldname":"eventgroup","label":"labels.lb_group"}},{"column":{"width":"14%","align":"center","fieldname":"fromdate","label":"labels.lb_fromdate"}},{"column":{"width":"14%","align":"center","fieldname":"todate","label":"labels.lb_todate"}},{"column":{"width":"20%","fieldname":"subject","label":"labels.lb_subject"}},{"column":{"fieldname":"place","label":"labels.lb_place"}}],"name":"event","databind":"event","border":"1","border-color":100,"font-size":10}},{"vgap":{"height":2}},{"row":{"columns":[{"cell":{"name":"label","value":"labels.lb_movement","font-style":"bold","background-color":217,"border":"1","border-color":100}}],"visible":"movement"}},{"datagrid":{"columns":[{"column":{"width":"22%","fieldname":"transnumber","label":"labels.lb_transnumber"}},{"column":{"width":"20%","align":"center","fieldname":"shippingdate","label":"labels.lb_shippingdate"}},{"column":{"width":"7%","fieldname":"direction","label":"labels.lb_direction"}},{"column":{"width":"26%","fieldname":"refvalue","label":"labels.lb_refvalue"}},{"column":{"fieldname":"notes","label":"labels.lb_comment"}}],"name":"movement","databind":"movement","border":"1","border-color":100,"font-size":10}}],"footer":[{"vgap":{"height":2}},{"hline":{"border-color":100}},{"row":{"columns":[{"cell":{"value":"labels.web_page","font-style":"bolditalic","color":"#2100FF"}},{"cell":{"value":"{{page}}","align":"right","font-style":"bold"}}],"height":10}}],"sources":{"head":{"default":"select t.serial, t.description, p.partnumber, p.description as product , case when g.groupvalue is null then '' else g.groupvalue end as toolgroup , case when t.notes is null then '' else t.notes end as notes , case when t.inactive=1 then '={{lb_yes}}' else '={{lb_no}}' end as inactive from tool t inner join product p on t.product_id=p.id left join groups g on t.toolgroup=g.id where t.id =  @id"},"movement":{"default":"select t.transnumber, dir.groupvalue as direction, substr(cast(mv.shippingdate as char(16)), 1, 16) as shippingdate, case when c.custname is null then case when e.empnumber is null then t.ref_transnumber else e.empnumber end else c.custname end as refvalue, case when mv.notes is null then '' else mv.notes end as notes from movement mv inner join trans t on mv.trans_id=t.id inner join groups dir on t.direction=dir.id left join customer c on t.customer_id=c.id left join employee e on t.employee_id=e.id inner join tool too on mv.tool_id=too.id where too.id = @id","mssql":"select t.transnumber, dir.groupvalue as direction, CONVERT(VARCHAR(16), mv.shippingdate, 120) as shippingdate, case when c.custname is null then case when e.empnumber is null then t.ref_transnumber else e.empnumber end else c.custname end as refvalue, case when mv.notes is null then '' else mv.notes end as notes from movement mv inner join trans t on mv.trans_id=t.id inner join groups dir on t.direction=dir.id left join customer c on t.customer_id=c.id left join employee e on t.employee_id=e.id inner join tool too on mv.tool_id=too.id where too.id = @id"},"fieldvalue":{"default":"select df.description as fielddef, case when fg.groupvalue in ('bool') and fv.value = 'true' then '={{lb_yes}}' when fg.groupvalue in ('bool') and fv.value = 'false' then '={{lb_no}}' when fg.groupvalue in ('customer') then rf_customer.custnumber when fg.groupvalue in ('tool') then rf_tool.serial when fg.groupvalue in ('transitem','transmovement','transpayment') then rf_trans.transnumber when fg.groupvalue in ('product') then rf_product.partnumber when fg.groupvalue in ('project') then rf_project.pronumber when fg.groupvalue in ('employee') then rf_employee.empnumber when fg.groupvalue in ('place') then rf_place.planumber else fv.value end as value, fv.notes as notes from fieldvalue fv inner join deffield df on fv.fieldname = df.fieldname and df.nervatype = (select id from groups where groupname='nervatype' and groupvalue='tool') inner join groups fg on df.fieldtype = fg.id left join customer rf_customer on fv.value = cast(rf_customer.id as char(150)) left join tool rf_tool on fv.value = cast(rf_tool.id as char(150)) left join trans rf_trans on fv.value = cast(rf_trans.id as char(150)) left join product rf_product on fv.value = cast(rf_product.id as char(150)) left join project rf_project on fv.value = cast(rf_project.id as char(150)) left join employee rf_employee on fv.value = cast(rf_employee.id as char(150)) left join place rf_place on fv.value = cast(rf_place.id as char(150)) where fv.deleted = 0 and df.visible=1 and fv.ref_id = @id"},"event":{"default":"select e.calnumber as calnumber, eg.groupvalue as eventgroup, substr(cast(e.fromdate as char(10)), 1, 10) as fromdate, substr(cast(e.fromdate as char(16)), 12, 5) as fromtime, substr(cast(e.todate as char(10)), 1, 10) as todate, substr(cast(e.todate as char(16)), 12, 5) as totime, e.subject as subject, e.place as place, e.description as description from event e left join groups eg on e.eventgroup = eg.id where e.deleted=0 and e.nervatype = (select id from groups where groupname='nervatype' and groupvalue='tool') and e.ref_id = @id","mssql":"select e.calnumber as calnumber, eg.groupvalue as eventgroup, CONVERT(VARCHAR(10), e.fromdate, 120) as fromdate, CONVERT(VARCHAR(5), e.fromdate, 108) as fromtime, CONVERT(VARCHAR(10), e.todate, 120) as todate, CONVERT(VARCHAR(5), e.todate, 108) as totime, e.subject as subject, e.place as place, e.description as description from event e left join groups eg on e.eventgroup = eg.id where e.deleted=0 and e.nervatype = (select id from groups where groupname='nervatype' and groupvalue='tool') and e.ref_id = @id"}},"data":{"logo":"data:image/jpg;base64,/9j/4AAQSkZJRgABAQIA7ADsAAD/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQEBw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wgARCABAAEADAREAAhEBAxEB/8QAGwABAAIDAQEAAAAAAAAAAAAAAAQGAQMFAgf/xAAYAQEBAQEBAAAAAAAAAAAAAAAAAQIDBP/aAAwDAQACEAMQAAABuYAAAAAAPCQZno3eCBMc+YjyRJnmzndenq6F3VMefg55Abl2W37p68Hznl4sHolXcWYs2+9h12wUPn5MGCLM9C7u/T1ejmzEaZr2eOiTr66WfXfbaAAAAP/EACMQAAICAgEDBQEAAAAAAAAAAAIDAQQABRATITAREhQVIjH/2gAIAQEAAQUC8xEIRXd8hvDLtdWFtl5O2LC2VksMzZNJfSq5sLkkfMh7QrK61jJ7D/eIiSn8oyZkp1aPQeG1yW/prHCd2ypVKyyIgYy1Fks+tCVMpvVMKZOV9YZYtYqDxf/EACERAAEDAwUBAQAAAAAAAAAAAAEAAhEQE0EDEiAwUSEy/9oACAEDAQE/Ae8Gal4CuhXVcciZTBApqPwOEQmiTy/NNMZqW/YUDK3eUY3dV27CtiEWEKCm6fqAjr//xAAbEQACAgMBAAAAAAAAAAAAAAABEQAQEiAwQP/aAAgBAgEBPwHxOZTKOhROo4C1oBZiipdP/8QAKRAAAQMCBAUEAwAAAAAAAAAAAQACEQMhEDFBYRIiMHGRICNRoTJCYv/aAAgBAQAGPwLrS4gDdPe38G2G+MF8n4C5abj3VqQ8qxDewUvcXd0wam5wNFhhoz39EuzOQTGb3wJxgCStHVPpqkmSjWOthi6l4k6L3Ks7MuuGm3gb9nD+BmUALAYNFB0A5ohziah/cqDTJ3F1am7wprco+NVwMEAdP//EACUQAQACAAUEAQUAAAAAAAAAAAEAERAhMUFRMGFxkdEgobHw8f/aAAgBAQABPyHrOTrdVBvNQ/Ld/GLlPyMF90BNn/N4bX69vLQTlXL0KD3YJyybN30VyV5muWcEtvDfB9gIqlW1wMuTQJWt2evyMcuTNWMdz9XDWU0Ms0APK2bd7O3vSUMzZNN+RwoGZ/Chl0KA2wrmyj3JrMv3JVUcNItSXgcXG7fV8QIHbHT/AP/aAAwDAQACAAMAAAAQAAAAAAANEty9DknkCjioltiArqvAAAAA/8QAIBEBAAICAQQDAAAAAAAAAAAAAQARECExMEFRYSCRsf/aAAgBAwEBPxDrKG2X1OM8kx7BL+ItE5MoTCL8Bqt5laZW94BWia9n8iq2yst3y4xK+X1HShRhV6gVowFRNiF35iXE9cV3ACjp/wD/xAAcEQACAgIDAAAAAAAAAAAAAAABEQAQIEEwMVH/2gAIAQIBAT8Q5wXZARKPCSYCFahgoDOXVDuyhUQHcflMttRVCQiMHuALj//EACUQAQABAwMDBQEBAAAAAAAAAAERACExQWGBEHGhMFGRscEg0f/aAAgBAQABPxD1svViA+auiElpLweHV2B5GZspY5aAZ7T8WaeMjpN9AqIC2f8AVbp1cO04rVUIIZuv2IOOi6wWIdY7GN/4ljjsNngDoZc4iXhJN2N/AjmgAgsU4GUT4pyyFVyvR9TwOVe1QZRsCHb6bWDekkDISrUKcbppbvLBx0QCJI2aOgLdIIkBj9ofKRqE5wOFqEJMI/nTYg26G0Kjt+zd8Zo+oglgYOjrVq4PZZdM4vTGblwoNInHvN6ZaDOXkxzFaDikH6rUecg/h5O1BLC32Lq7+n//2Q==","labels":{"lb_additional_data":"Additional data","lb_comment":"Comment","lb_description":"Description","lb_direction":"Dir","lb_event_no":"Event No.","lb_events":"Events","lb_fromdate":"Date From","lb_group":"Group","lb_inactive":"Inactive","lb_movement":"Movement","lb_no":"No.","lb_yes":"YES","lb_partnumber":"Product No.","lb_place":"Place","lb_product":"Product","lb_refvalue":"Ref. value","lb_serial_no":"Serial No.","lb_shippingdate":"Shipping","lb_subject":"Subject","lb_todate":"Date To","lb_tool_datasheet":"TOOL DATASHEET","lb_toolgroup":"Group","lb_transnumber":"Movement No.","lb_value":"Value","web_link":"http://nervatura.com","web_page":"www.nervatura.com"}}}