import{T as t}from"./TbQfK4PM.js";import{o as s}from"./rinfYUH4.js";import{i,t as e,e as o}from"./zPGonIb7.js";const h=(t,s)=>{const i=t._$AN;if(void 0===i)return!1;for(const t of i)t._$AO?.(s,!1),h(t,s);return!0},n=t=>{let s,i;do{if(void 0===(s=t._$AM))break;i=s._$AN,i.delete(t),t=s}while(0===i?.size)},c=t=>{for(let s;s=t._$AM;t=s){let i=s._$AN;if(void 0===i)s._$AN=i=new Set;else if(i.has(t))break;i.add(t),d(s)}};function r(t){void 0!==this._$AN?(n(this),this._$AM=t,c(this)):this._$AM=t}function l(t,s=!1,i=0){const e=this._$AH,o=this._$AN;if(void 0!==o&&0!==o.size)if(s)if(Array.isArray(e))for(let t=i;t<e.length;t++)h(e[t],!1),n(e[t]);else null!=e&&(h(e,!1),n(e));else h(this,t)}const d=t=>{t.type==e.CHILD&&(t._$AP??=l,t._$AQ??=r)};class $ extends i{constructor(){super(...arguments),this._$AN=void 0}_$AT(t,s,i){super._$AT(t,s,i),c(this),this.isConnected=t._$AU}_$AO(t,s=!0){t!==this.isConnected&&(this.isConnected=t,t?this.reconnected?.():this.disconnected?.()),s&&(h(this,t),n(this))}setValue(t){if(s(this._$Ct))this._$Ct._$AI(t,this);else{const s=[...this._$Ct._$AH];s[this._$Ci]=t,this._$Ct._$AI(s,this,0)}}disconnected(){}reconnected(){}}const _=()=>new A;class A{}const a=new WeakMap,f=o(class extends ${render(s){return t}update(s,[i]){const e=i!==this.G;return e&&void 0!==this.G&&this.ot(void 0),(e||this.rt!==this.lt)&&(this.G=i,this.ct=s.options?.host,this.ot(this.lt=s.element)),t}ot(t){if("function"==typeof this.G){const s=this.ct??globalThis;let i=a.get(s);void 0===i&&(i=new WeakMap,a.set(s,i)),void 0!==i.get(this.G)&&this.G.call(this.ct,void 0),i.set(this.G,t),void 0!==t&&this.G.call(this.ct,t)}else this.G.value=t}get rt(){return"function"==typeof this.G?a.get(this.ct??globalThis)?.get(this.G):this.G?.value}disconnected(){this.rt===this.lt&&this.ot(void 0)}reconnected(){this.ot(this.lt)}});export{_ as e,f as n};
