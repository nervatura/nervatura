"use strict";(self.webpackChunknervatura_client=self.webpackChunknervatura_client||[]).push([[805],{3443:function(e,a,n){n.d(a,{Z:function(){return h}});var l=n(1413),t=n(4925),r="Pagination_inputStyle__ht0WV",i="Pagination_pageSize__UmZdG",o="Pagination_buttonStyle__1ggUE",c=n(4721),s=n(6267),d=n(3331),u=n(6417),g=["pageIndex","pageSize","pageCount","canPreviousPage","canNextPage","hidePageSize","className","onEvent"],p=function(e){var a=e.pageIndex,n=e.pageSize,p=e.pageCount,h=e.canPreviousPage,m=e.canNextPage,f=e.hidePageSize,x=e.className,v=e.onEvent,_=(0,t.Z)(e,g);return(0,u.jsxs)("div",(0,l.Z)((0,l.Z)({},_),{},{className:"row".concat(" ",x),children:[(0,u.jsxs)("div",{className:"cell padding-small",children:[(0,u.jsx)(c.Z,{id:"btn_first",className:"border-button".concat(" ",o),label:"1",disabled:!h,onClick:function(){return v("gotoPage",[0])}}),(0,u.jsx)(c.Z,{id:"btn_previous",className:"border-button".concat(" ",o),value:(0,u.jsx)("span",{children:"\u276e"}),disabled:!h,onClick:function(){return v("previousPage",[a-1])}})]}),(0,u.jsx)("div",{className:"cell",children:(0,u.jsx)(s.II,{id:"input_goto",className:"".concat(r),type:s.rC.INTEGER,value:a+1,disabled:0===p,onChange:function(e){return v("gotoPage",[e-1])}})}),(0,u.jsxs)("div",{className:"cell padding-small",children:[(0,u.jsx)(c.Z,{id:"btn_next",className:"border-button".concat(" ",o),value:(0,u.jsx)("span",{children:"\u276f"}),disabled:!m,onClick:function(){return v("nextPage",[a+1])}}),(0,u.jsx)(c.Z,{id:"btn_last",className:"border-button".concat(" ",o),label:String(p),disabled:!m,onClick:function(){return v("gotoPage",[p-1])}})]}),f?null:(0,u.jsx)("div",{className:"cell padding-small hide-small",children:(0,u.jsx)(d.Z,{id:"sel_page_size",value:String(n),className:"".concat(i),disabled:0===p,onChange:function(e){return v("setPageSize",[Number(e)])},options:[5,10,20,50,100].map((function(e){return{value:String(e),text:String(e)}}))})})]}))};p.defaultProps={pageIndex:0,pageSize:5,pageCount:0,canPreviousPage:!1,canNextPage:!1,hidePageSize:!1,className:"",onEvent:void 0};var h=p},3331:function(e,a,n){n.d(a,{Z:function(){return u}});var l=n(1413),t=n(4925),r="Select_selectStyle__kV5uh",i="Select_optionStyle__hc7Dx",o="Select_optionPlaceholder__1tEB7",c=n(6417),s=["options","placeholder","className","onChange"],d=function(e){var a=e.options,n=e.placeholder,d=e.className,u=e.onChange,g=(0,t.Z)(e,s),p=a.map((function(e,a){return(0,c.jsx)("option",{className:"".concat(i),value:e.value,children:e.text},a)}));return"undefined"!==typeof n&&p.unshift((0,c.jsx)("option",{className:" ".concat(i," ").concat(o),value:"",children:n},"placeholder")),(0,c.jsx)("select",(0,l.Z)((0,l.Z)({},g),{},{className:"".concat(d," ").concat(r),onChange:function(e){return u(e.target.value)},children:p}))};d.defaultProps={options:[],placeholder:void 0,className:"",onChange:void 0};var u=d},1012:function(e,a,n){n.d(a,{Z:function(){return $}});var l=n(1413),t=n(2982),r=n(885),i=n(4925),o=n(7313),c=n(4754),s=n.n(c),d=n(5110),u=n(5919),g=n(8708),p=n(3576),h=n(982),m=n(3443),f=n(5750),x=n(4721),v=n(8907),_=n(6360),b=n(4848),P="Table_responsive__DJ9gN",j="Table_tableWrap__-9xwQ",S="Table_sort__J1zdh",N="Table_sortNone__H5Wm0",Z="Table_sortAsc__03kaK",C="Table_sortDesc__iUu3u",y="Table_numberCell__71kc5",w="Table_linkCell__IqlRd",T="Table_uiTable__-VLl3",k="Table_cellLabel__ekfdS",z="Table_cursorPointer__t2i2V",I="Table_cursorDisabled__9cg2a",E="Table_filterInput__uzAW-",A="Table_addButton__f0Ang",F="Table_addLabel__x6czV",K="Table_middle__ZyS0T",R=n(6417),D=["rowKey","rows","fields","dateFormat","timeFormat","className","labelYes","labelNo","labelAdd","addIcon","tableFilter","filterPlaceholder","filterValue","paginationPage","paginationTop","paginatonScroll","hidePaginatonSize","currentPage","onCurrentPage","tablePadding","onRowSelected","onEditCell","onAddItem"],V=function(e){var a=e.rowKey,n=e.rows,c=e.fields,b=e.dateFormat,V=e.timeFormat,$=e.className,H=e.labelYes,W=e.labelNo,q=e.labelAdd,B=e.addIcon,L=e.tableFilter,O=e.filterPlaceholder,G=e.filterValue,Y=e.paginationPage,J=e.paginationTop,M=e.paginatonScroll,U=e.hidePaginatonSize,X=e.currentPage,Q=e.onCurrentPage,ee=e.tablePadding,ae=e.onRowSelected,ne=e.onEditCell,le=e.onAddItem,te=(0,i.Z)(e,D),re=(0,o.useState)({filter:G}),ie=(0,r.Z)(re,2),oe=ie[0],ce=ie[1],se=function(e,a){var n={gotoPage:Pe,nextPage:je,previousPage:Se,setPageSize:Ne};n[e].apply(n,(0,t.Z)(a)),M&&window.scrollTo(0,0),Q&&"setPageSize"!==e&&Q(a[0])},de=(0,o.useMemo)((function(){var e=function(e,a,n){return(0,R.jsxs)("div",{className:y,children:[(0,R.jsx)("span",{className:k,children:a}),(0,R.jsx)("span",{style:n,children:e})]})},n=function(e,a){return 1===e||"true"===e||!0===e?(0,R.jsxs)(o.Fragment,{children:[(0,R.jsx)("span",{className:k,children:a}),(0,R.jsx)(f.Z,{iconKey:"CheckSquare",className:K}),(0,R.jsxs)("span",{className:K,children:[" ",H]})]}):(0,R.jsxs)(o.Fragment,{children:[(0,R.jsx)("span",{className:k,children:a}),(0,R.jsx)(f.Z,{iconKey:"SquareEmpty",className:K}),(0,R.jsxs)("span",{className:K,children:[" ",W]})]})},l=function(e,n,l,t,r){return(0,R.jsxs)(o.Fragment,{children:[(0,R.jsx)("span",{className:k,children:n}),(0,R.jsx)("span",{id:"link_"+r[a],className:w,onClick:ne?function(e){e.stopPropagation(),ne(l,t,r)}:null,children:e})]})},t=function(e,a,n){return(0,R.jsxs)(o.Fragment,{children:[(0,R.jsx)("span",{className:k,children:a}),(0,R.jsx)("span",{style:n,children:e})]})},r=[];return Object.keys(c).forEach((function(a){if(c[a].columnDef)r=s()(r,{$push:[c[a].columnDef]});else{var i={accessor:a,Header:c[a].label||a,headerStyle:{},cellStyle:{}};switch(c[a].fieldtype){case"number":i.headerStyle.textAlign="right",i.Cell=function(n){var l=n.row,t=n.value,r={};return c[a].format&&(r.fontWeight="bold",l.original.edited?r.textDecoration="line-through":r.color=0!==t?"red":"green"),e(t,c[a].label,r)};break;case"datetime":case"date":case"time":i.Cell=function(e){return function(e,a,n){var l="",t=(0,p.Z)(e);if((0,g.Z)(t))switch(n){case"date":l=b?(0,h.Z)(t,b):(0,u.Z)(t,{representation:"date"});break;case"time":l=V?(0,h.Z)(t,V):(0,u.Z)(t,{representation:"time"});break;default:l=b&&V?(0,h.Z)(t,b+" "+V):(0,u.Z)(t)}return(0,R.jsxs)(o.Fragment,{children:[(0,R.jsx)("span",{className:k,children:a}),(0,R.jsx)("span",{children:l})]})}(e.value,c[a].label,c[a].fieldtype)};break;case"bool":i.Cell=function(e){var l=e.value;return n(l,c[a].label)};break;case"deffield":i.Cell=function(r){var i=r.row,o=r.value;switch(i.original.fieldtype){case"bool":return n(o,c[a].label);case"integer":case"float":return e(o,c[a].label,{});case"customer":case"tool":case"product":case"trans":case"transitem":case"transmovement":case"transpayment":case"project":case"employee":case"place":case"urlink":return l(i.original.export_deffield_value,c[a].label,i.original.fieldtype,i.original[a],i.original);default:return t(o,c[a].label,{})}};break;default:i.Cell=function(e){var n=e.row,r=e.value,i={};return n.original[a+"_color"]&&(i.color=n.original[a+"_color"]),Object.keys(n.original).includes("export_"+a)?l(n.original["export_"+a],c[a].label,a,n.original[a],n.original):t(r,c[a].label,i)}}ee&&(i.headerStyle.padding=ee,i.cellStyle.padding=ee),c[a].verticalAlign&&(i.cellStyle.verticalAlign=c[a].verticalAlign),c[a].textAlign&&(i.cellStyle.textAlign=c[a].textAlign),r=s()(r,{$push:[i]})}})),r}),[c,b,V,W,H,ne,a,ee]),ue=(0,o.useMemo)((function(){if(""!==oe.filter){var e=[],a=String(oe.filter).toLowerCase();return n.forEach((function(n){(function(e,a){var n=!1;return Object.keys(c).forEach((function(l){String(e[l]).toLowerCase().indexOf(a)>-1&&(n=!0)})),n})(n,a)&&e.push(n)})),e}return n}),[c,n,oe.filter]),ge=(0,d.useTable)({columns:de,data:ue,initialState:{pageIndex:X,pageSize:Y}},d.useSortBy,d.usePagination),pe=ge.getTableProps,he=ge.getTableBodyProps,me=ge.headerGroups,fe=ge.prepareRow,xe=ge.page,ve=ge.canPreviousPage,_e=ge.canNextPage,be=ge.pageCount,Pe=ge.gotoPage,je=ge.nextPage,Se=ge.previousPage,Ne=ge.setPageSize,Ze=ge.state,Ce=Ze.pageIndex,ye=Ze.pageSize,we=be>1;return(0,R.jsxs)("div",(0,l.Z)((0,l.Z)({},te),{},{className:" ".concat(P," ").concat($),children:[L||we&&J?(0,R.jsxs)("div",{children:[we&&J?(0,R.jsx)(m.Z,{pageIndex:Ce,pageSize:ye,pageCount:be,canPreviousPage:ve,canNextPage:_e,hidePageSize:U,onEvent:se}):null,L?(0,R.jsxs)("div",{className:"row full",children:[(0,R.jsx)("div",{className:"cell",children:(0,R.jsx)(_.Z,{id:"filter",type:"text",className:E,placeholder:O,value:oe.filter,onChange:function(e){return ce((0,l.Z)((0,l.Z)({},oe),{},{filter:e}))}})}),le?(0,R.jsx)("div",{className:"cell",style:{width:20},children:(0,R.jsx)(x.Z,{id:"btn_add",className:"border-button".concat(" ",A),value:(0,R.jsx)(v.Z,{className:F,leftIcon:B,value:q}),onClick:function(e){return le(e)}})}):null]}):null]}):null,(0,R.jsx)("div",{className:j,children:(0,R.jsxs)("table",(0,l.Z)((0,l.Z)({},pe()),{},{className:"ui-table ".concat(T),children:[(0,R.jsx)("thead",{children:me.map((function(e){return(0,R.jsx)("tr",(0,l.Z)((0,l.Z)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return(0,R.jsx)("th",(0,l.Z)((0,l.Z)({},e.getHeaderProps(e.getSortByToggleProps())),{},{style:e.headerStyle,className:"".concat(S," ").concat(e.isSorted?e.isSortedDesc?C:Z:N),children:e.render("Header")}))}))}))}))}),(0,R.jsx)("tbody",(0,l.Z)((0,l.Z)({},he()),{},{children:xe.map((function(e,a){return fe(e),(0,R.jsx)("tr",(0,l.Z)((0,l.Z)({},e.getRowProps()),{},{className:e.original.disabled?I:ae?z:"",onClick:ae&&!e.original.disabled?function(){return ae(e.original,a)}:null,children:e.cells.map((function(e){return(0,R.jsx)("td",(0,l.Z)((0,l.Z)({},e.getCellProps()),{},{style:e.column.cellStyle,children:e.render("Cell")}))}))}))}))}))]}))}),we&&!J?(0,R.jsx)("div",{children:(0,R.jsx)(m.Z,{pageIndex:Ce,pageSize:ye,pageCount:be,canPreviousPage:ve,canNextPage:_e,hidePageSize:U,onEvent:se})}):null]}))};V.defaultProps={rowKey:"id",rows:[],fields:void 0,dateFormat:(0,b.$8)("dateFormat"),timeFormat:(0,b.$8)("timeFormat"),labelYes:"YES",labelNo:"NO",labelAdd:"",addIcon:(0,R.jsx)(f.Z,{iconKey:"Plus"}),tableFilter:!1,filterPlaceholder:void 0,filterValue:"",paginationPage:10,currentPage:0,paginationTop:!0,paginatonScroll:!1,hidePaginatonSize:!1,tablePadding:void 0,className:"",onRowSelected:void 0,onEditCell:void 0,onAddItem:void 0};var $=V},6946:function(e,a,n){n.r(a),n.d(a,{default:function(){return C}});var l=n(1413),t=n(4942),r=n(885),i=n(4925),o=n(7313),c=n(4754),s=n.n(c),d=n(4848),u=(n(2580),"Selector_modal__aXtP3"),g="Selector_dialog__xunTR",p="Selector_panel__ACXnx",h="Selector_panelTitle__o8rAJ",m="Selector_closeIcon__XR58M",f="Selector_searchCol__qV+9o",x="Selector_exclamation__CI215",v=n(8907),_=n(4721),b=n(6360),P=n(5750),j=n(1012),S=n(6417),N=["view","columns","result","filter","selectorPage","paginationPage","currentPage","className","getText","onClose","onSelect","onSearch","onCurrentPage"],Z=function(e){var a=e.view,n=e.columns,c=e.result,d=e.filter,Z=e.selectorPage,C=e.paginationPage,y=e.currentPage,w=e.className,T=e.getText,k=e.onClose,z=e.onSelect,I=e.onSearch,E=e.onCurrentPage,A=(0,i.Z)(e,N),F=(0,o.useState)({filter:d}),K=(0,r.Z)(F,2),R=K[0],D=K[1],V={view:{columnDef:{id:"view",Header:"",headerStyle:{},Cell:function(e){var a=e.row;e.value;return 1===a.original.deleted?(0,S.jsx)(P.Z,{iconKey:"ExclamationTriangle",className:x}):(0,S.jsx)(P.Z,{iconKey:"CaretRight",width:9,height:24})},cellStyle:{width:25,padding:"7px 2px 3px 8px"}}}};n.forEach((function(e){V=s()(V,{$merge:(0,t.Z)({},e[0],{fieldtype:"string",label:T(a+"_"+e[0])})})}));var $=function(){return(0,S.jsxs)("div",{className:"".concat(p," ").concat(w),children:[(0,S.jsx)("div",{className:"".concat(h," ","primary"),children:k?(0,S.jsxs)("div",{className:"row full",children:[(0,S.jsx)("div",{className:"cell",children:(0,S.jsx)(v.Z,{value:T("search_"+a),leftIcon:(0,S.jsx)(P.Z,{iconKey:"Search"}),iconWidth:"20px"})}),(0,S.jsx)("div",{className:"cell align-right".concat(" ",m),children:(0,S.jsx)(P.Z,{id:"closeIcon",iconKey:"Times",onClick:k})})]}):(0,S.jsx)(v.Z,{value:T("quick_search")+": "+T("search_"+a)})}),(0,S.jsxs)("div",{className:"section",children:[(0,S.jsxs)("div",{className:"row full container section-small-bottom",children:[(0,S.jsx)("div",{className:"cell",children:(0,S.jsx)(b.Z,{id:"filter",type:"text",className:"full",placeholder:T("placeholder_search"),autoFocus:!0,value:R.filter,onEnter:function(){return I(R.filter)},onChange:function(e){return D((0,l.Z)((0,l.Z)({},R),{},{filter:e}))}})}),(0,S.jsx)("div",{className:"cell".concat(" ",f),children:(0,S.jsx)(_.Z,{id:"btn_search",className:"full medium",onClick:function(){return I(R.filter)},value:(0,S.jsx)(v.Z,{value:T("label_search"),leftIcon:(0,S.jsx)(P.Z,{iconKey:"Search"}),center:!0})})})]}),(0,S.jsx)("div",{className:"row full container section-small-bottom",children:(0,S.jsx)(j.Z,{fields:V,rows:c,filterPlaceholder:T("placeholder_search"),paginationPage:k?Z:C,paginationTop:!0,hidePaginatonSize:!0,currentPage:y,onCurrentPage:E,onRowSelected:function(e){return z(e,R.filter)}})})]})]})};return k?(0,S.jsx)("div",{className:"modal".concat(" ",u),children:(0,S.jsx)("div",(0,l.Z)((0,l.Z)({className:"dialog".concat(" ",g)},A),{},{children:$()}))}):$()};Z.defaultProps={view:"",columns:[],result:[],filter:"",selectorPage:(0,d.$8)("selectorPage"),paginationPage:(0,d.$8)("paginationPage"),currentPage:0,className:"",getText:void 0,onClose:void 0,onSearch:void 0,onSelect:void 0,onCurrentPage:void 0};var C=Z}}]);