{"meta":{"report_key":"ntr_offer_out_en","report_type":"TRANS","trans_type":"OFFER","direction":"DIRECTION_OUT","report_name":"Offer EN","description":"Customer Offer","file_type":"FILE_PDF"},"report":{"title":"OFFER","left-margin":15,"top-margin":15,"right-margin":15},"header":[{"row":{"columns":[{"image":{"src":"logo"}},{"cell":{"name":"label","value":"labels.lb_worksheet","font-style":"bolditalic","font-size":24,"color":"#696969"}},{"cell":{"name":"transnumber","value":"head.0.transnumber","align":"right","font-style":"bold","font-size":12}}],"height":10}},{"hline":{"border-color":100}},{"vgap":{"height":2}}],"details":[{"row":{"columns":[{"cell":{"name":"company_name","font-style":"bold","value":"head.0.comp_name"}},{"cell":{"name":"label","align":"right","value":"={{labels.lb_creation_date}}:"}}],"height":6}},{"row":{"columns":[{"cell":{"name":"company_address","value":"={{head.0.comp_zipcode}} ={{head.0.comp_city}} ={{head.0.comp_street}}"}},{"cell":{"name":"crdate","align":"right","value":"head.0.crdate"}}],"height":6}},{"hline":{"border-color":100}},{"vgap":{"height":2}},{"row":{"columns":[{"cell":{"name":"label","value":"={{labels.lb_customer}}:"}}],"height":5}},{"row":{"columns":[{"cell":{"name":"customer_name","font-style":"bold","value":"head.0.cust_name"}}],"height":5}},{"row":{"columns":[{"cell":{"name":"customer_address","value":"={{head.0.cust_zipcode}} ={{head.0.cust_city}} ={{head.0.cust_street}}"}}]}},{"vgap":{"height":1}},{"row":{"columns":[{"cell":{"name":"label","width":20,"font-style":"bold","value":"labels.lb_offerdate","border":"LBT","border-color":100}},{"cell":{"name":"label","width":20,"font-style":"bold","value":"labels.lb_validdate","border":"LBT","border-color":100}},{"cell":{"name":"label","width":20,"font-style":"bold","value":"labels.lb_currency","border":"LBT","border-color":100}},{"cell":{"name":"label","width":25,"font-style":"bold","value":"labels.lb_payment","border":"LBT","border-color":100}},{"cell":{"name":"label","width":40,"font-style":"bold","value":"labels.lb_pronumber","border":"LBT","border-color":100}},{"cell":{"name":"label","font-style":"bold","value":"labels.lb_ref_no","border":"LBTR","border-color":100}}]}},{"row":{"columns":[{"cell":{"name":"offerdate","align":"center","width":20,"value":"head.0.offerdate","border":"LB","border-color":100}},{"cell":{"name":"validdate","align":"center","width":20,"value":"head.0.validdate","border":"LB","border-color":100}},{"cell":{"name":"curr","align":"center","width":20,"value":"head.0.curr","border":"LB","border-color":100}},{"cell":{"name":"payment","width":25,"value":"head.0.paidtypedesc","border":"LB","border-color":100}},{"cell":{"name":"pronumber","width":40,"value":"head.0.pronumber","border":"LB","border-color":100}},{"cell":{"name":"ref_transnumber","value":"head.0.ref_transnumber_1","border":"LBR","border-color":100}}]}},{"row":{"columns":[{"cell":{"name":"label","font-style":"bold","value":"labels.lb_comments","border":"LBR","border-color":100}}]}},{"row":{"columns":[{"cell":{"name":"notes","multiline":"true","value":"head.0.notes","border":"LBR","border-color":100}}]}},{"vgap":{"height":2}},{"datagrid":{"columns":[{"column":{"width":"6%","fieldname":"counter","align":"right","label":"labels.lb_no"}},{"column":{"width":"20%","fieldname":"description","label":"labels.lb_description","footer":"labels.lb_total_amount"}},{"column":{"width":"8%","fieldname":"unit","label":"labels.lb_unit"}},{"column":{"width":"7%","fieldname":"qty","align":"right","label":"labels.lb_qty","header-align":"right"}},{"column":{"width":"10%","fieldname":"fxprice","align":"right","label":"labels.lb_price","header-align":"right"}},{"column":{"width":"7%","fieldname":"discount","align":"right","label":"={{labels.lb_disc}}%","header-align":"right"}},{"column":{"width":"8%","fieldname":"taxcode","align":"right","label":"={{labels.lb_vat}}%","header-align":"right"}},{"column":{"width":"12%","fieldname":"netamount","align":"right","label":"labels.lb_netamount","footer":"head.0.sum_netamount","footer-align":"right","header-align":"right"}},{"column":{"width":"9%","fieldname":"vatamount","align":"right","label":"labels.lb_vat","footer":"head.0.sum_vatamount","footer-align":"right","header-align":"right"}},{"column":{"fieldname":"amount","align":"right","label":"labels.lb_amount","footer":"head.0.sum_amount","footer-align":"right","header-align":"right"}}],"name":"items","databind":"items","border":"1","border-color":100,"header-background":230}},{"vgap":{"height":4}},{"html":{"fieldname":"notes","html":"={{head.0.fnote}}"}}],"footer":[{"vgap":{"height":2}},{"hline":{"border-color":100}},{"row":{"columns":[{"cell":{"value":"labels.web_page","font-style":"bolditalic","color":"#2100FF"}},{"cell":{"value":"{{page}}","align":"right","font-style":"bold"}}],"height":10}}],"sources":{"items":{"default":"select ti.description, ti.product_code as partnumber, ti.unit as unit, ti.qty as qty, tx.rate_value*100 as taxcode, ti.fx_price as fxprice, ti.net_amount as netamount, ti.discount as discount, ti.vat_amount as vatamount, ti.amount as amount, ti.deposit as deposit from item_view ti inner join tax_view tx on tx.code = ti.tax_code where ti.trans_code = @code order by ti.id"},"head":{"default":"select t.code as transnumber, t.trans_date as offerdate, substr(cast(t.time_stamp as char(10)), 1, 10) as crdate, case when t.notes is null then '' else t.notes end as notes, case when t.report_notes is null then '' else t.report_notes end as fnote, case when t.trans_code is null then '' else t.trans_code end as ref_transnumber_1, t.deleted, substr(cast(t.due_time as char(10)), 1, 10) as validdate, t.currency_code as curr, cu.description as currname, case when t.paid_type = 'PAID_TRANSFER' then '={{lb_paid_transfer}}' when t.paid_type = 'PAID_CARD' then '={{lb_paid_card}}' when t.paid_type = 'PAID_ONLINE' then '={{lb_paid_online}}' when t.paid_type = 'PAID_CASH' then '={{lb_paid_cash}}' else '={{lb_paid_other}}' end as paidtypedesc, t.rate as acrate, c.customer_name as cust_name, (select zip_code from customer_addresses where code = c.code limit 1) as cust_zipcode, (select city from customer_addresses where code = c.code limit 1) as cust_city, (select street from customer_addresses where code = c.code limit 1) as cust_street, comp.customer_name as comp_name, case when comp.zip_code is null then '' else comp.zip_code end as comp_zipcode, case when comp.city is null then '' else comp.city end as comp_city, case when comp.street is null then '' else comp.street end as comp_street, tsum.sum_netamount as sum_netamount, tsum.sum_vatamount as sum_vatamount, tsum.sum_amount as sum_amount, case when t.employee_code is null then '' else t.employee_code end as empnumber, case when t.project_code is null then '' else t.project_code end as pronumber from trans_view t inner join currency_view cu on t.currency_code = cu.code inner join customer c on t.customer_code = c.code left join (select ti.trans_code as code, round(sum(ti.net_amount),cu.digit) as sum_netamount, round(sum(ti.vat_amount),cu.digit) as sum_vatamount, round(sum(ti.amount),cu.digit) as sum_amount from item_view ti inner join trans t on t.code = ti.trans_code  inner join currency_view cu on cu.code = t.currency_code group by ti.trans_code, cu.digit) as tsum on tsum.code = t.code, (select c.code, c.customer_name, ca.zip_code, ca.city, ca.street from customer c left join customer_addresses ca on ca.code=c.code where c.customer_type='CUSTOMER_OWN' limit 1) comp where t.code = @code","postgres":"select t.code as transnumber, t.trans_date as offerdate, substr(cast(t.time_stamp as char(10)), 1, 10) as crdate, case when t.notes is null then '' else t.notes end as notes, case when t.report_notes is null then '' else t.report_notes end as fnote, case when t.trans_code is null then '' else t.trans_code end as ref_transnumber_1, t.deleted, substr(cast(t.due_time as char(10)), 1, 10) as validdate, t.currency_code as curr, cu.description as currname, case when t.paid_type = 'PAID_TRANSFER' then '={{lb_paid_transfer}}' when t.paid_type = 'PAID_CARD' then '={{lb_paid_card}}' when t.paid_type = 'PAID_ONLINE' then '={{lb_paid_online}}' when t.paid_type = 'PAID_CASH' then '={{lb_paid_cash}}' else '={{lb_paid_other}}' end as paidtypedesc, t.rate as acrate, c.customer_name as cust_name, (select zip_code from customer_addresses where code = c.code limit 1) as cust_zipcode, (select city from customer_addresses where code = c.code limit 1) as cust_city, (select street from customer_addresses where code = c.code limit 1) as cust_street, comp.customer_name as comp_name, case when comp.zip_code is null then '' else comp.zip_code end as comp_zipcode, case when comp.city is null then '' else comp.city end as comp_city, case when comp.street is null then '' else comp.street end as comp_street, tsum.sum_netamount as sum_netamount, tsum.sum_vatamount as sum_vatamount, tsum.sum_amount as sum_amount, case when t.employee_code is null then '' else t.employee_code end as empnumber, case when t.project_code is null then '' else t.project_code end as pronumber from trans_view t inner join currency_view cu on t.currency_code = cu.code inner join customer c on t.customer_code = c.code left join (select ti.trans_code as code, round(sum(ti.net_amount)::numeric,cu.digit) as sum_netamount, round(sum(ti.vat_amount)::numeric,cu.digit) as sum_vatamount, round(sum(ti.amount)::numeric,cu.digit) as sum_amount from item_view ti inner join trans t on t.code = ti.trans_code  inner join currency_view cu on cu.code = t.currency_code group by ti.trans_code, cu.digit) as tsum on tsum.code = t.code, (select c.code, c.customer_name, ca.zip_code, ca.city, ca.street from customer c left join customer_addresses ca on ca.code=c.code where c.customer_type='CUSTOMER_OWN' limit 1) comp where t.code = @code","mssql":"select t.code as transnumber, t.trans_date as offerdate, CONVERT(VARCHAR(10), t.time_stamp, 120) as crdate, case when t.notes is null then '' else t.notes end as notes, case when t.report_notes is null then '' else t.report_notes end as fnote, case when t.trans_code is null then '' else t.trans_code end as ref_transnumber_1, t.deleted, CONVERT(VARCHAR(10), t.due_time, 120) as validdate, t.currency_code as curr, cu.description as currname, case when t.paid_type = 'PAID_TRANSFER' then '={{lb_paid_transfer}}' when t.paid_type = 'PAID_CARD' then '={{lb_paid_card}}' when t.paid_type = 'PAID_ONLINE' then '={{lb_paid_online}}' when t.paid_type = 'PAID_CASH' then '={{lb_paid_cash}}' else '={{lb_paid_other}}' end as paidtypedesc, t.rate as acrate, c.customer_name as cust_name, (select zip_code from customer_addresses where code = c.code limit 1) as cust_zipcode, (select city from customer_addresses where code = c.code limit 1) as cust_city, (select street from customer_addresses where code = c.code limit 1) as cust_street, comp.customer_name as comp_name, case when comp.zip_code is null then '' else comp.zip_code end as comp_zipcode, case when comp.city is null then '' else comp.city end as comp_city, case when comp.street is null then '' else comp.street end as comp_street, tsum.sum_netamount as sum_netamount, tsum.sum_vatamount as sum_vatamount, tsum.sum_amount as sum_amount, case when t.employee_code is null then '' else t.employee_code end as empnumber, case when t.project_code is null then '' else t.project_code end as pronumber from trans_view t inner join currency_view cu on t.currency_code = cu.code inner join customer c on t.customer_code = c.code left join (select ti.trans_code as code, round(sum(ti.net_amount),cu.digit) as sum_netamount, round(sum(ti.vat_amount),cu.digit) as sum_vatamount, round(sum(ti.amount),cu.digit) as sum_amount from item_view ti inner join trans t on t.code = ti.trans_code  inner join currency_view cu on cu.code = t.currency_code group by ti.trans_code, cu.digit) as tsum on tsum.code = t.code, (select c.code, c.customer_name, ca.zip_code, ca.city, ca.street from customer c left join customer_addresses ca on ca.code=c.code where c.customer_type='CUSTOMER_OWN' limit 1) comp where t.code = @code"}},"data":{"logo":"data:image/jpg;base64,/9j/4AAQSkZJRgABAQIA7ADsAAD/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQEBw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wgARCABAAEADAREAAhEBAxEB/8QAGwABAAIDAQEAAAAAAAAAAAAAAAQGAQMFAgf/xAAYAQEBAQEBAAAAAAAAAAAAAAAAAQIDBP/aAAwDAQACEAMQAAABuYAAAAAAPCQZno3eCBMc+YjyRJnmzndenq6F3VMefg55Abl2W37p68Hznl4sHolXcWYs2+9h12wUPn5MGCLM9C7u/T1ejmzEaZr2eOiTr66WfXfbaAAAAP/EACMQAAICAgEDBQEAAAAAAAAAAAIDAQQABRATITAREhQVIjH/2gAIAQEAAQUC8xEIRXd8hvDLtdWFtl5O2LC2VksMzZNJfSq5sLkkfMh7QrK61jJ7D/eIiSn8oyZkp1aPQeG1yW/prHCd2ypVKyyIgYy1Fks+tCVMpvVMKZOV9YZYtYqDxf/EACERAAEDAwUBAQAAAAAAAAAAAAEAAhEQE0EDEiAwUSEy/9oACAEDAQE/Ae8Gal4CuhXVcciZTBApqPwOEQmiTy/NNMZqW/YUDK3eUY3dV27CtiEWEKCm6fqAjr//xAAbEQACAgMBAAAAAAAAAAAAAAABEQAQEiAwQP/aAAgBAgEBPwHxOZTKOhROo4C1oBZiipdP/8QAKRAAAQMCBAUEAwAAAAAAAAAAAQACEQMhEDFBYRIiMHGRICNRoTJCYv/aAAgBAQAGPwLrS4gDdPe38G2G+MF8n4C5abj3VqQ8qxDewUvcXd0wam5wNFhhoz39EuzOQTGb3wJxgCStHVPpqkmSjWOthi6l4k6L3Ks7MuuGm3gb9nD+BmUALAYNFB0A5ohziah/cqDTJ3F1am7wprco+NVwMEAdP//EACUQAQACAAUEAQUAAAAAAAAAAAEAERAhMUFRMGFxkdEgobHw8f/aAAgBAQABPyHrOTrdVBvNQ/Ld/GLlPyMF90BNn/N4bX69vLQTlXL0KD3YJyybN30VyV5muWcEtvDfB9gIqlW1wMuTQJWt2evyMcuTNWMdz9XDWU0Ms0APK2bd7O3vSUMzZNN+RwoGZ/Chl0KA2wrmyj3JrMv3JVUcNItSXgcXG7fV8QIHbHT/AP/aAAwDAQACAAMAAAAQAAAAAAANEty9DknkCjioltiArqvAAAAA/8QAIBEBAAICAQQDAAAAAAAAAAAAAQARECExMEFRYSCRsf/aAAgBAwEBPxDrKG2X1OM8kx7BL+ItE5MoTCL8Bqt5laZW94BWia9n8iq2yst3y4xK+X1HShRhV6gVowFRNiF35iXE9cV3ACjp/wD/xAAcEQACAgIDAAAAAAAAAAAAAAABEQAQIEEwMVH/2gAIAQIBAT8Q5wXZARKPCSYCFahgoDOXVDuyhUQHcflMttRVCQiMHuALj//EACUQAQABAwMDBQEBAAAAAAAAAAERACExQWGBEHGhMFGRscEg0f/aAAgBAQABPxD1svViA+auiElpLweHV2B5GZspY5aAZ7T8WaeMjpN9AqIC2f8AVbp1cO04rVUIIZuv2IOOi6wWIdY7GN/4ljjsNngDoZc4iXhJN2N/AjmgAgsU4GUT4pyyFVyvR9TwOVe1QZRsCHb6bWDekkDISrUKcbppbvLBx0QCJI2aOgLdIIkBj9ofKRqE5wOFqEJMI/nTYg26G0Kjt+zd8Zo+oglgYOjrVq4PZZdM4vTGblwoNInHvN6ZaDOXkxzFaDikH6rUecg/h5O1BLC32Lq7+n//2Q==","labels":{"lb_amount":"Amount","lb_comments":"Comments","lb_creation_date":"Creation date","lb_currency":"Currency","lb_customer":"Customer","lb_description":"Description","lb_disc":"Disc.","lb_netamount":"NetAmount","lb_no":"No.","lb_yes":"YES","lb_offerdate":"Offer Date","lb_payment":"Payment","lb_price":"Price","lb_pronumber":"Project No.","lb_qty":"Qty","lb_ref_no":"Ref.No.","lb_total_amount":"Total","lb_unit":"Unit","lb_validdate":"Valid Date","lb_vat":"VAT","lb_worksheet":"OFFER","web_link":"http://nervatura.com","web_page":"www.nervatura.com","lb_paid_transfer":"Transfer","lb_paid_card":"Card","lb_paid_online":"Online","lb_paid_cash":"Cash","lb_paid_other":"Other"}}}