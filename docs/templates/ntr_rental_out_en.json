{"meta":{"reportkey":"ntr_rental_out_en","nervatype":"trans","transtype":"rent","direction":"out","repname":"Rental Data EN","description":"Customer Rental","filetype":"pdf"},"report":{"title":"RENTAL","left-margin":15,"top-margin":15,"right-margin":15},"header":[{"row":{"columns":[{"image":{"src":"logo"}},{"cell":{"name":"label","value":"labels.lb_rental","font-style":"bolditalic","font-size":26,"color":"#696969"}},{"cell":{"name":"transnumber","value":"head.0.transnumber","align":"right","font-style":"bold","font-size":20}}],"height":10}},{"hline":{"border-color":100}},{"vgap":{"height":2}}],"details":[{"row":{"columns":[{"cell":{"name":"company_name","font-style":"bold","value":"head.0.comp_name"}},{"cell":{"name":"label","align":"right","value":"={{labels.lb_creation_date}}:"}}],"height":6}},{"row":{"columns":[{"cell":{"name":"company_address","value":"={{head.0.comp_zipcode}} ={{head.0.comp_city}} ={{head.0.comp_street}}"}},{"cell":{"name":"crdate","align":"right","value":"head.0.crdate"}}],"height":6}},{"hline":{"border-color":100}},{"vgap":{"height":2}},{"row":{"columns":[{"cell":{"name":"label","value":"={{labels.lb_customer}}:"}}],"height":5}},{"row":{"columns":[{"cell":{"name":"customer_name","font-style":"bold","value":"head.0.cust_name"}}],"height":5}},{"row":{"columns":[{"cell":{"name":"customer_address","value":"={{head.0.cust_zipcode}} ={{head.0.cust_city}} ={{head.0.cust_street}}"}}]}},{"vgap":{"height":1}},{"row":{"columns":[{"cell":{"name":"label","width":25,"font-style":"bold","value":"labels.lb_startdate","border":"LBT","border-color":100}},{"cell":{"name":"label","width":25,"font-style":"bold","value":"labels.lb_enddate","border":"LBT","border-color":100}},{"cell":{"name":"label","width":40,"font-style":"bold","value":"labels.lb_ref_no","border":"LBT","border-color":100}},{"cell":{"name":"label","width":40,"font-style":"bold","value":"labels.lb_empnumber","border":"LBT","border-color":100}},{"cell":{"name":"label","font-style":"bold","value":"labels.lb_pronumber","border":"LBTR","border-color":100}}]}},{"row":{"columns":[{"cell":{"name":"startdate","align":"center","width":25,"value":"head.0.startdate","border":"LB","border-color":100}},{"cell":{"name":"enddate","align":"center","width":25,"value":"head.0.enddate","border":"LB","border-color":100}},{"cell":{"name":"ref_transnumber","width":40,"value":"head.0.ref_transnumber_1","border":"LB","border-color":100}},{"cell":{"name":"empnumber","width":40,"value":"head.0.empnumber","border":"LB","border-color":100}},{"cell":{"name":"pronumber","value":"head.0.pronumber","border":"LBR","border-color":100}}]}},{"row":{"columns":[{"cell":{"name":"label","font-style":"bold","value":"labels.lb_holidays","border":"LB","border-color":100}},{"cell":{"name":"holidays","align":"right","value":"head.0.holidays","border":"LB","border-color":100}},{"cell":{"name":"label","font-style":"bold","value":"labels.lb_badtool","border":"LB","border-color":100}},{"cell":{"name":"badtool","align":"right","value":"head.0.badtool","border":"LB","border-color":100}},{"cell":{"name":"label","font-style":"bold","value":"labels.lb_other","border":"LB","border-color":100}},{"cell":{"name":"other","align":"right","value":"head.0.other","border":"LB","border-color":100}},{"cell":{"name":"label","font-style":"bold","value":"labels.lb_note","border":"LB","border-color":100}},{"cell":{"name":"note","multiline":"true","value":"head.0.note","border":"LBR","border-color":100}}]}},{"row":{"columns":[{"cell":{"name":"label","font-style":"bold","value":"labels.lb_comments","border":"LB","border-color":100}},{"cell":{"name":"notes","multiline":"true","value":"head.0.notes","border":"LBR","border-color":100}}]}},{"vgap":{"height":2}},{"datagrid":{"columns":[{"column":{"fieldname":"fielddef"}},{"column":{"fieldname":"value"}},{"column":{"fieldname":"notes"}}],"name":"fieldvalue","databind":"fieldvalue","border":"0","merge":1}},{"vgap":{"height":2}},{"datagrid":{"columns":[{"column":{"width":"6%","fieldname":"counter","align":"right","label":"labels.lb_no"}},{"column":{"width":"40%","fieldname":"description","label":"labels.lb_description","footer":"labels.lb_total_amount"}},{"column":{"width":"10%","fieldname":"unit","label":"labels.lb_unit"}},{"column":{"width":"12%","fieldname":"qty","align":"right","label":"labels.lb_qty","header-align":"right"}},{"column":{"width":"15%","fieldname":"fxprice","align":"right","label":"labels.lb_price","header-align":"right"}},{"column":{"fieldname":"amount","align":"right","label":"labels.lb_amount","footer":"head.0.sum_amount","footer-align":"right","header-align":"right"}}],"name":"items","databind":"items","border":"1","border-color":100,"font-size":10,"header-background":230}},{"vgap":{"height":5}},{"html":{"fieldname":"notes","html":"={{head.0.fnote}}"}}],"footer":[{"vgap":{"height":2}},{"hline":{"border-color":100}},{"row":{"columns":[{"cell":{"value":"labels.web_page","font-style":"bolditalic","color":"#2100FF"}},{"cell":{"value":"{{page}}","align":"right","font-style":"bold"}}],"height":10}}],"sources":{"items":{"default":"select ti.description , p.partnumber as partnumber, ti.unit as unit, ti.qty as qty, tax.taxcode as taxcode , ti.fxprice as fxprice, ti.netamount as netamount, ti.discount as discount, ti.vatamount as vatamount, ti.amount as amount, ti.deposit as deposit from item ti inner join product p on p.id = ti.product_id inner join tax on tax.id = ti.tax_id where ti.deleted=0 and ti.trans_id = @id order by ti.id"},"head":{"default":"select t.transnumber as transnumber , substr(cast(t.crdate as char(10)), 1, 10) as crdate , substr(cast(t.transdate as char(10)), 1, 10) as startdate , case when t.notes is null then '' else t.notes end as notes , case when t.fnote is null then '' else t.fnote end as fnote , case when t.ref_transnumber is null then '' else t.ref_transnumber end as ref_transnumber_1 , t.deleted , substr(cast(t.duedate as char(10)), 1, 10) as enddate , t.curr as curr, cu.description as currname , case when msp.msg is null then case when ptg.description is null or ptg.description = '' then ptg.groupvalue else ptg.description end else msp.msg end as paidtypedesc , t.acrate as acrate , c.custname as cust_name , case when cust_address.zipcode is null then '' else cust_address.zipcode end as cust_zipcode , case when cust_address.city is null then '' else cust_address.city end as cust_city , case when cust_address.street is null then '' else cust_address.street end as cust_street , comp.custname as comp_name , case when comp_address.zipcode is null then '' else comp_address.zipcode end as comp_zipcode , case when comp_address.city is null then '' else comp_address.city end as comp_city , case when comp_address.street is null then '' else comp_address.street end as comp_street , tsum.sum_netamount as sum_netamount, tsum.sum_vatamount as sum_vatamount, tsum.sum_amount as sum_amount , case when reholiday.value is null then '0' else reholiday.value end as holidays , case when rebadtool.value is null then '0' else rebadtool.value end as badtool , case when reother.value is null then '0' else reother.value end as other , case when rentnote.value is null then '' else rentnote.value end as note , case when employee.empnumber is null then '' else employee.empnumber end as empnumber , case when project.pronumber is null then '' else project.pronumber end as pronumber from trans t inner join currency cu on t.curr = cu.curr inner join groups ptg on t.paidtype = ptg.id left join ui_message msp on msp.fieldname = ptg.groupvalue and  msp.secname = 'paidtype' and msp.lang = 'en' left join fieldvalue reholiday on t.id = reholiday.ref_id and reholiday.fieldname='trans_reholiday' left join fieldvalue rebadtool on t.id = rebadtool.ref_id and rebadtool.fieldname='trans_rebadtool' left join fieldvalue reother on t.id = reother.ref_id and reother.fieldname='trans_reother' left join fieldvalue rentnote on t.id = rentnote.ref_id and rentnote.fieldname='trans_rentnote' inner join customer c on t.customer_id = c.id left join (select ref_id, min(id) as address_id from address where deleted=0 and nervatype in(select id from groups where groupname='nervatype' and groupvalue='customer') group by ref_id) as cai on cai.ref_id=c.id left join address cust_address on cust_address.id=cai.address_id inner join customer comp on comp.id in (select min(customer.id) from customer inner join groups on customer.custtype=groups.id and groups.groupvalue='own') left join (select ref_id, min(id) as address_id from address where deleted=0 and nervatype in(select id from groups where groupname='nervatype' and groupvalue='customer') group by ref_id) as coi on coi.ref_id=comp.id left join address comp_address on comp_address.id=coi.address_id left join (select ti.trans_id as id, sum(ti.netamount) as sum_netamount, sum(ti.vatamount) as sum_vatamount, sum(ti.amount) as sum_amount from item ti where ti.deleted=0 group by ti.trans_id ) as tsum on tsum.id = t.id left join employee on t.employee_id=employee.id left join project on t.project_id=project.id where t.id = @id","mssql":"select t.transnumber as transnumber , CONVERT(VARCHAR(10), t.transdate, 120) as startdate , CONVERT(VARCHAR(10), t.crdate, 120) as crdate , case when t.notes is null then '' else t.notes end as notes , case when t.fnote is null then '' else t.fnote end as fnote , case when t.ref_transnumber is null then '' else t.ref_transnumber end as ref_transnumber_1 , t.deleted , CONVERT(VARCHAR(10), t.duedate, 120) as enddate , t.curr as curr, cu.description as currname , case when msp.msg is null then case when ptg.description is null or ptg.description = '' then ptg.groupvalue else ptg.description end else msp.msg end as paidtypedesc , t.acrate as acrate , c.custname as cust_name , case when cust_address.zipcode is null then '' else cust_address.zipcode end as cust_zipcode , case when cust_address.city is null then '' else cust_address.city end as cust_city , case when cust_address.street is null then '' else cust_address.street end as cust_street , comp.custname as comp_name , case when comp_address.zipcode is null then '' else comp_address.zipcode end as comp_zipcode , case when comp_address.city is null then '' else comp_address.city end as comp_city , case when comp_address.street is null then '' else comp_address.street end as comp_street , tsum.sum_netamount as sum_netamount, tsum.sum_vatamount as sum_vatamount, tsum.sum_amount as sum_amount , case when reholiday.value is null then '0' else reholiday.value end as holidays , case when rebadtool.value is null then '0' else rebadtool.value end as badtool , case when reother.value is null then '0' else reother.value end as other , case when rentnote.value is null then '' else rentnote.value end as note , case when employee.empnumber is null then '' else employee.empnumber end as empnumber , case when project.pronumber is null then '' else project.pronumber end as pronumber from trans t inner join currency cu on t.curr = cu.curr inner join groups ptg on t.paidtype = ptg.id left join ui_message msp on msp.fieldname = ptg.groupvalue and  msp.secname = 'paidtype' and msp.lang = 'en' left join fieldvalue reholiday on t.id = reholiday.ref_id and reholiday.fieldname='trans_reholiday' left join fieldvalue rebadtool on t.id = rebadtool.ref_id and rebadtool.fieldname='trans_rebadtool' left join fieldvalue reother on t.id = reother.ref_id and reother.fieldname='trans_reother' left join fieldvalue rentnote on t.id = rentnote.ref_id and rentnote.fieldname='trans_rentnote' inner join customer c on t.customer_id = c.id left join (select ref_id, min(id) as address_id from address where deleted=0 and nervatype in(select id from groups where groupname='nervatype' and groupvalue='customer') group by ref_id) as cai on cai.ref_id=c.id left join address cust_address on cust_address.id=cai.address_id inner join customer comp on comp.id in (select min(customer.id) from customer inner join groups on customer.custtype=groups.id and groups.groupvalue='own') left join (select ref_id, min(id) as address_id from address where deleted=0 and nervatype in(select id from groups where groupname='nervatype' and groupvalue='customer') group by ref_id) as coi on coi.ref_id=comp.id left join address comp_address on comp_address.id=coi.address_id left join (select ti.trans_id as id, sum(ti.netamount) as sum_netamount, sum(ti.vatamount) as sum_vatamount, sum(ti.amount) as sum_amount from item ti where ti.deleted=0 group by ti.trans_id ) as tsum on tsum.id = t.id left join employee on t.employee_id=employee.id left join project on t.project_id=project.id where t.id = @id"},"fieldvalue":{"default":"select df.description as fielddef, case when fg.groupvalue in ('bool') and fv.value = 'true' then '={{lb_yes}}' when fg.groupvalue in ('bool') and fv.value = 'false' then '={{lb_no}}' when fg.groupvalue in ('customer') then rf_customer.custnumber when fg.groupvalue in ('tool') then rf_tool.serial when fg.groupvalue in ('transitem','transmovement','transpayment') then rf_trans.transnumber when fg.groupvalue in ('product') then rf_product.partnumber when fg.groupvalue in ('project') then rf_project.pronumber when fg.groupvalue in ('employee') then rf_employee.empnumber when fg.groupvalue in ('place') then rf_place.planumber else fv.value end as value, fv.notes as notes from fieldvalue fv inner join deffield df on fv.fieldname = df.fieldname and df.nervatype = (select id from groups where groupname='nervatype' and groupvalue='trans') inner join groups fg on df.fieldtype = fg.id left join customer rf_customer on fv.value = cast(rf_customer.id as char(150)) left join tool rf_tool on fv.value = cast(rf_tool.id as char(150)) left join trans rf_trans on fv.value = cast(rf_trans.id as char(150)) left join product rf_product on fv.value = cast(rf_product.id as char(150)) left join project rf_project on fv.value = cast(rf_project.id as char(150)) left join employee rf_employee on fv.value = cast(rf_employee.id as char(150)) left join place rf_place on fv.value = cast(rf_place.id as char(150)) where fv.deleted = 0 and df.visible=1 and fv.ref_id = @id"}},"data":{"logo":"data:image/jpg;base64,/9j/4AAQSkZJRgABAQIA7ADsAAD/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQEBw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wgARCABAAEADAREAAhEBAxEB/8QAGwABAAIDAQEAAAAAAAAAAAAAAAQGAQMFAgf/xAAYAQEBAQEBAAAAAAAAAAAAAAAAAQIDBP/aAAwDAQACEAMQAAABuYAAAAAAPCQZno3eCBMc+YjyRJnmzndenq6F3VMefg55Abl2W37p68Hznl4sHolXcWYs2+9h12wUPn5MGCLM9C7u/T1ejmzEaZr2eOiTr66WfXfbaAAAAP/EACMQAAICAgEDBQEAAAAAAAAAAAIDAQQABRATITAREhQVIjH/2gAIAQEAAQUC8xEIRXd8hvDLtdWFtl5O2LC2VksMzZNJfSq5sLkkfMh7QrK61jJ7D/eIiSn8oyZkp1aPQeG1yW/prHCd2ypVKyyIgYy1Fks+tCVMpvVMKZOV9YZYtYqDxf/EACERAAEDAwUBAQAAAAAAAAAAAAEAAhEQE0EDEiAwUSEy/9oACAEDAQE/Ae8Gal4CuhXVcciZTBApqPwOEQmiTy/NNMZqW/YUDK3eUY3dV27CtiEWEKCm6fqAjr//xAAbEQACAgMBAAAAAAAAAAAAAAABEQAQEiAwQP/aAAgBAgEBPwHxOZTKOhROo4C1oBZiipdP/8QAKRAAAQMCBAUEAwAAAAAAAAAAAQACEQMhEDFBYRIiMHGRICNRoTJCYv/aAAgBAQAGPwLrS4gDdPe38G2G+MF8n4C5abj3VqQ8qxDewUvcXd0wam5wNFhhoz39EuzOQTGb3wJxgCStHVPpqkmSjWOthi6l4k6L3Ks7MuuGm3gb9nD+BmUALAYNFB0A5ohziah/cqDTJ3F1am7wprco+NVwMEAdP//EACUQAQACAAUEAQUAAAAAAAAAAAEAERAhMUFRMGFxkdEgobHw8f/aAAgBAQABPyHrOTrdVBvNQ/Ld/GLlPyMF90BNn/N4bX69vLQTlXL0KD3YJyybN30VyV5muWcEtvDfB9gIqlW1wMuTQJWt2evyMcuTNWMdz9XDWU0Ms0APK2bd7O3vSUMzZNN+RwoGZ/Chl0KA2wrmyj3JrMv3JVUcNItSXgcXG7fV8QIHbHT/AP/aAAwDAQACAAMAAAAQAAAAAAANEty9DknkCjioltiArqvAAAAA/8QAIBEBAAICAQQDAAAAAAAAAAAAAQARECExMEFRYSCRsf/aAAgBAwEBPxDrKG2X1OM8kx7BL+ItE5MoTCL8Bqt5laZW94BWia9n8iq2yst3y4xK+X1HShRhV6gVowFRNiF35iXE9cV3ACjp/wD/xAAcEQACAgIDAAAAAAAAAAAAAAABEQAQIEEwMVH/2gAIAQIBAT8Q5wXZARKPCSYCFahgoDOXVDuyhUQHcflMttRVCQiMHuALj//EACUQAQABAwMDBQEBAAAAAAAAAAERACExQWGBEHGhMFGRscEg0f/aAAgBAQABPxD1svViA+auiElpLweHV2B5GZspY5aAZ7T8WaeMjpN9AqIC2f8AVbp1cO04rVUIIZuv2IOOi6wWIdY7GN/4ljjsNngDoZc4iXhJN2N/AjmgAgsU4GUT4pyyFVyvR9TwOVe1QZRsCHb6bWDekkDISrUKcbppbvLBx0QCJI2aOgLdIIkBj9ofKRqE5wOFqEJMI/nTYg26G0Kjt+zd8Zo+oglgYOjrVq4PZZdM4vTGblwoNInHvN6ZaDOXkxzFaDikH6rUecg/h5O1BLC32Lq7+n//2Q==","labels":{"lb_amount":"Amount","lb_badtool":"Bad machine","lb_comments":"Comments","lb_creation_date":"Creation date","lb_currency":"Currency","lb_customer":"Customer","lb_description":"Description","lb_empnumber":"Employee No.","lb_enddate":"End Date","lb_holidays":"Holidays","lb_no":"No.","lb_yes":"YES","lb_note":"Justification","lb_other":"Other non-eligible","lb_payment":"Payment","lb_price":"Price","lb_pronumber":"Project No.","lb_qty":"Qty","lb_ref_no":"Ref.No.","lb_rental":"RENTAL","lb_startdate":"Start Date","lb_total_amount":"Total","lb_unit":"Unit","web_link":"http://nervatura.com","web_page":"www.nervatura.com"}}}